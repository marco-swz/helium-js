const t=new CSSStyleSheet;t.replaceSync(':host {\n    display: block;\n    overflow: auto;\n    height: 100%;\n}\n\n.cont-children {\n    padding-left: 20px;\n    position: relative;\n    overflow: hidden;\n    display: block;\n\n    &::before {\n        content: \'\';\n        width: 0;\n        height: 100%;\n        position: absolute;\n        border: 1px solid lightgrey;\n        top: 0;\n        left: 11px;\n    }\n\n    &:hover {\n        &::before {\n            transition: border-color 0.2s;\n            border-color: grey;\n        }\n    }\n}\n\n.list-elem {\n    padding: 8px 10px;\n    display: inline-block;\n    width: 100%;\n    width: -moz-available;          /* WebKit-based browsers will ignore this. */\n    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\n    width: fill-available;\n    color: black;\n    text-decoration: none;\n    border-radius: 5px;\n    text-wrap: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    \n    &:hover {\n        background-color: whitesmoke;\n    }\n}\n\n.cont-elem[selected] {\n    .list-elem {\n        background-color: whitesmoke;\n    }\n}\n\ndiv[type="root"] {\n    font-weight: 500;\n    display: flex;\n    flex-direction: column;\n\n    & > .list-elem {\n        text-transform: uppercase;\n        cursor: pointer;\n        \n        &::before {\n            transition: transform 0.1s;\n            font-family: "Font Awesome 5 Pro";\n            content: "\\f105";\n            color: grey;\n            padding-right: 5px;\n            display: inline-block;\n            transform: rotate(90deg) translate(3px, 3px);\n        }\n    }\n}\n\ndiv[type="leaf"] {\n    font-weight: 400;\n    display: flex;\n    flex-direction: column;\n}\n\ndiv[closed] {\n    & > .cont-children {\n        display: none;\n    }\n\n    & > .list-elem::before {\n        transition: transform 0.1s;\n        transform: rotate(0deg) translate(0, 0);\n    }\n}\n');class e extends HTMLElement{static observedAttributes=[];$contItems;constructor(){super();let e=this.attachShadow({mode:"open"});this.$contItems=document.createElement("div"),this.$contItems.id="cont-items",e.append(this.$contItems),e.adoptedStyleSheets=[t]}attributeChangedCallback(t,e,n){}addNode(t,e,n=!1){t=this._renderLeaf(t),n&&(t=this._toRootNode(t)),Array.isArray(e)||(e=[e]);for(const n of e)this.$contItems.querySelectorAll(`.cont-elem[node-id="${n}"]`).forEach((e=>this._setParent(t.cloneNode(!0),e)))}connectedCallback(){let t=[];for(let e of Array.from(this.children)){let n=this._renderLeaf(e);this.$contItems.append(n),t.push(n)}for(let e of t){const t=e.getAttribute("parent");if(null==t){this.$contItems.append(e);continue}const n=this.$contItems.querySelector(`[node-id="${t}"]`);if(null==n)throw new Error("No parent found with id: "+t);this._setParent(e,n)}}filter(t,e=!1){null!=t&&(t=t.toLowerCase());for(const n of this.$contItems.children)this._filterRecursive(n,t,!1,e);return this}getOpen(){return Array.from(this.$contItems.querySelectorAll("[type=root]:not([closed])")).map((t=>t.getAttribute("node-id")))}getClosed(){return Array.from(this.$contItems.querySelectorAll("[type=root][closed]")).map((t=>t.getAttribute("node-id")))}setClosed(t=null){return this.setClosed(t,!0),this}setOpen(t=null){return this._setClosed(t,!1),this}setParent(t,e){let n=this.$contItems.querySelectorAll(`[node-id="${t}"]`);null!=e?this.$contItems.querySelectorAll(`[node-id="${e}"]`).forEach((t=>{n.forEach((e=>{this._setParent(e,t)}))})):n.forEach((t=>this.$contItems.append(t)))}toRootNode(t){let e=this._queryIds(t);for(const t of e)this._toRootNode(t);return this}_filterRecursive(t,e,n,o,r){let l=null==e;const i="root"===t.getAttribute("type");let s=t.hasAttribute("filter-text")?t.getAttribute("filter-text"):t.children[0].innerHTML;s=s.toLowerCase();let d=!1;(!i||i&&o)&&(d=r?s===e:s.includes(e)),l||=d;let c=!1;if(i){let r=t.children[1];for(const t of r.children){let r=this._filterRecursive(t,e,l||n,o);c=c||r}}return c?(t.style.display="",t.removeAttribute("closed")):l?(t.style.display="",t.setAttribute("closed","")):n?t.style.display="":(t.style.display="none",t.setAttribute("closed","")),l||c}_clickRootCallback(t){this._toggleChildren(t)}_toggleChildren(t){t.getAttribute("closed")?this._showChildren(t):this._hideChildren(t)}_hideChildren(t){t.setAttribute("closed","true")}_renderLeaf(t){let e=document.createElement("div");const n=t.getAttribute("parent");null!=n&&e.setAttribute("parent",n),null!=t.getAttribute("selected")&&e.setAttribute("selected","");let o=t.getAttribute("filter-text");null!=o&&e.setAttribute("filter-text",o),null!=t.getAttribute("closed")&&e.setAttribute("closed",!0);let r=t.getAttribute("node-id")??t.id;e.setAttribute("node-id",r),t.slot=r,e.classList.add("cont-elem"),t.classList.add("list-elem"),e.setAttribute("type","leaf");if(t.hasAttribute("slotted")||this.hasAttribute("slotted")){let t=document.createElement("slot");t.name=r,e.append(t)}else e.append(t);return e}_setClosed(t=null,e=!0){if(null!=t)for(let n of this._queryIds(t))e?n.setAttribute("closed",""):n.removeAttribute("closed");else for(let t of this.$contItems.querySelectorAll("[type=root]"))e?t.setAttribute("closed",""):t.removeAttribute("closed")}_toRootNode(t){if("root"===t.getAttribute("type"))return t;t.setAttribute("type","root");let e=document.createElement("div");return e.classList.add("cont-children"),t.append(e),"click"===this.getAttribute("fold")&&t.children[0].addEventListener("click",(()=>this._clickRootCallback.bind(this)(t))),t}_setParent(t,e){this._toRootNode(e),e.children[1].append(t)}_showChildren(t){t.removeAttribute("closed")}_queryIds(t){Array.isArray(t)||(t=[t]);let e=[];for(let n of t)this.$contItems.querySelectorAll(`.cont-elem[node-id="${n}"]`).forEach((t=>e.push(t)));return e}}customElements.get("he-tree")||customElements.define("he-tree",e);export{e as HeliumTree};
