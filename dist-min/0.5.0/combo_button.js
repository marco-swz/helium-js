import{h as t,a as e,b as o,c as n}from"./utils-0yxUIyxA.js";const r=new CSSStyleSheet;r.replaceSync(":host {\n    --he-combo-button-border-radius: 3px;\n    --he-combo-button-border-width: 0.1rem;\n    --he-combo-button-border-color: lightgrey;\n    --he-combo-button-clr-bg: white;\n    --he-combo-button-clr: black;\n    --he-combo-button-sep-width: 0.05rem;\n    --he-combo-button-sep-color: lightgrey;\n    --he-combo-button-height: 35px;\n    --he-combo-button-popover-border-color: 240 5.9% 90%;\n\n    display: inline-block;\n    height: var(--he-combo-button-height);\n}\n\n#popover {\n    inset: unset;\n    outline: none;\n    border: 1px solid hsl(var(--he-combo-button-popover-border-color));\n    border-radius: var(--he-select-border-radius, 3px);\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n    width: min-content;\n\n    & #slot-menu {\n        display: flex;\n        flex-direction: column;\n\n        &::slotted(he-button) {\n            --he-button-width: 100%;\n        }\n    }\n}\n\n#cont-buttons {\n    display: flex;\n    border-radius: var(--he-combo-button-border-radius);\n    border-style: solid;\n    border-width: var(--he-combo-button-border-width);\n    width: fit-content;\n    height: calc(var(--he-combo-button-height) - 2px);\n    border-color: var(--he-combo-button-border-color);\n    overflow: hidden;\n\n    & button {\n        border-radius: 0;\n        outline: none;\n        border: none;\n        background-color: var(--he-combo-button-clr-bg);\n        color: var(--he-combo-button-clr);\n        border-left-color: var(--he-combo-button-sep-color);\n        border-left-width: var(--he-combo-button-sep-width);\n        border-left-style: solid;\n        cursor: pointer;\n        font-size: 10px;\n        padding: 5px;\n\n        &:hover {\n            background-color: hsl(240 4.8% 95.9%);\n        }\n    }\n}\n");class s extends HTMLElement{static observedAttributes=["text","open","disabled"];$popover;internals;$contButtons;ignoreAttributes=!1;constructor(){super(),this.internals=this.attachInternals();let t=this.attachShadow({mode:"open"});t.adoptedStyleSheets=[r],this.$popover=document.createElement("div"),this.$popover.id="popover",this.$popover.popover="",t.append(this.$popover);const e=document.createElement("slot");e.id="slot-menu",e.name="menu",this.$popover.append(e),this.$contButtons=document.createElement("div"),this.$contButtons.id="cont-buttons",t.append(this.$contButtons);const o=document.createElement("slot");o.innerHTML=this.getAttribute("text"),o.id="slot-button",o.name="button",this.$contButtons.append(o);const n=document.createElement("button");n.innerHTML="â–¼",n.id="btn-menu",n.setAttribute("popovertarget","popover"),this.$contButtons.append(n)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get disabled(){return null!==this.getAttribute("disabled")}set open(t){t?this.setAttribute("open",""):this.removeAttribute("open")}get open(){return null!==this.getAttribute(open)}attributeChangedCallback(t,e,o){if(!this.ignoreAttributes)switch(t){case"text":o&&(this.shadowRoot.querySelector("#btn-primary").innerHTML=o);break;case"open":null!=o?this.$popover.showPopover():this.$popover.hidePopover();break;case"disabled":null!=o?(this.$contButtons.querySelector("#btn-menu").disabled=!0,this.$contButtons.querySelectorAll("slot").forEach((t=>t.disabled=!0))):(this.$contButtons.querySelector("#btn-menu").disabled=!1,this.$contButtons.querySelectorAll("slot").forEach((t=>t.disabled=!1)))}}connectedCallback(){this.$popover.addEventListener("beforetoggle",(t=>this._beforetoggledPopoverCallback.bind(this)(t))),this.$popover.addEventListener("toggle",(t=>this._toggledPopoverCallback.bind(this)(t)))}_beforetoggledPopoverCallback(t){this.ignoreAttributes=!0,"open"===t.newState?(this.$popover.style.visibility="hidden",this.setAttribute("open",!0)):this.removeAttribute("open"),this.ignoreAttributes=!1}_toggledPopoverCallback(r){if("open"===r.newState){this.internals.states.add("open");let n="bottom-right";t(this)<this.$popover.offsetHeight+20&&(n="top-right");const r=this.getAttribute("position")??n;e(this.$popover,this.$contButtons,r,3),o(),this.$popover.style.visibility=""}else this.internals.states.delete("open"),n()}}customElements.get("he-combo-button")||customElements.define("he-combo-button",s);export{s as HeliumComboButton};
